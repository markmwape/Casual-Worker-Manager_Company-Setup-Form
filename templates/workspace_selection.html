<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workspace Selection - Embee Accounting</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.24/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        window.tailwind = window.tailwind || {};
        window.tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-navy': {
                            '50': '#f8fafc',
                            '100': '#e2e8f0',
                            '200': '#cbd5e1',
                            '300': '#94a3b8',
                            '400': '#64748b',
                            '500': '#1A2B48',
                            '600': '#0f1a2e',
                            '700': '#0a1424',
                            '800': '#050a12',
                            '900': '#020508'
                        },
                        'brand-gold': {
                            '50': '#fefce8',
                            '100': '#fef3c7',
                            '200': '#fde68a',
                            '300': '#fcd34d',
                            '400': '#fbbf24',
                            '500': '#E5B23A',
                            '600': '#d4a02a',
                            '700': '#b45309',
                            '800': '#92400e',
                            '900': '#78350f'
                        },
                        'brand-gray': {
                            '50': '#f8fafc',
                            '100': '#f1f5f9',
                            '200': '#e2e8f0',
                            '300': '#cbd5e1',
                            '400': '#94a3b8',
                            '500': '#7C8A9A',
                            '600': '#5a6778',
                            '700': '#475569',
                            '800': '#334155',
                            '900': '#1e293b'
                        }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #1A2B48 0%, #2a3f5f 100%);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .icon-glow {
            box-shadow: 0 0 20px rgba(26, 43, 72, 0.3);
        }
        .input-focus {
            transition: all 0.3s ease;
        }
        .input-focus:focus {
            transform: scale(1.02);
            box-shadow: 0 0 0 3px rgba(26, 43, 72, 0.1);
        }
        .btn-hover {
            transition: all 0.3s ease;
        }
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .shadow-3xl {
            box-shadow: 0 35px 60px -15px rgba(0, 0, 0, 0.3);
        }
        .border-3 {
            border-width: 3px;
        }
        .honeycomb-corner {
            position: absolute;
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, rgba(26, 43, 72, 0.08) 0%, rgba(124, 138, 154, 0.03) 100%);
            clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
            pointer-events: none;
            z-index: 1;
        }
        .pulse-animation {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1A2B48;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .success-checkmark {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 2;
            stroke-miterlimit: 10;
            stroke: #7bb026;
            fill: none;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }
        @keyframes stroke {
            100% {
                stroke-dashoffset: 0;
            }
        }
        body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Enhanced input focus effects */
        .input-focus:focus {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        /* Improved card hover effects */
        .card-hover:hover {
            transform: translateY(-8px);
            transition: all 0.4s ease;
        }
        
        /* Enhanced button hover effects */
        .btn-hover:hover {
            transform: translateY(-3px);
            transition: all 0.3s ease;
        }
        
        /* Gradient background animation */
        .gradient-bg {
            background: linear-gradient(135deg, #1A2B48 0%, #2a3f5f 50%, #1A2B48 100%);
            background-size: 200% 200%;
            animation: gradientShift 8s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Floating animation enhancement */
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-8px) rotate(1deg); }
            50% { transform: translateY(-5px) rotate(0deg); }
            75% { transform: translateY(-12px) rotate(-1deg); }
        }
        
        /* Icon glow enhancement */
        .icon-glow {
            box-shadow: 0 0 30px rgba(26, 43, 72, 0.4);
        }
        
        /* Enhanced form styling */
        .form-control input:focus,
        .form-control select:focus {
            box-shadow: 0 0 0 4px rgba(26, 43, 72, 0.1);
        }
        
        /* Mobile responsive enhancements */
        @media (max-width: 768px) {
            .card-hover:hover {
                transform: translateY(-4px);
            }
            
            .btn-hover:hover {
                transform: translateY(-2px);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen relative py-8">
    <!-- Honeycomb Pattern Corners -->
    <div class="honeycomb-corner" style="top:5%;left:5%;transform:rotate(60deg);opacity:0.3;"></div>
    <div class="honeycomb-corner" style="bottom:10%;right:5%;transform:rotate(-45deg);opacity:0.4;"></div>
    <div class="honeycomb-corner" style="top:20%;right:10%;transform:rotate(15deg);opacity:0.2;"></div>
    <div class="honeycomb-corner" style="bottom:30%;left:8%;transform:rotate(-30deg);opacity:0.3;"></div>
    <div class="honeycomb-corner" style="top:60%;left:15%;transform:rotate(45deg);opacity:0.25;"></div>
    
    <div class="w-full max-w-6xl mx-auto relative z-10 px-4">
        <!-- Header Section -->
        <div class="text-center mb-16">
            <div class="inline-flex items-center justify-center mb-8">
                <img src="{{ url_for('static', filename='img/logo + text.png') }}" alt="Embee Accounting Logo" class="h-28 w-auto object-contain floating-animation" />
            </div>
            <h1 class="text-5xl md:text-6xl font-bold text-brand-navy-600 mb-6 leading-tight">Welcome to Your Workspace</h1>
            <p class="text-xl md:text-2xl text-brand-gray-600 max-w-3xl mx-auto leading-relaxed">Choose how you'd like to get started with your professional workforce management platform</p>
            
            <!-- Trust indicators -->
            <div class="flex flex-wrap justify-center items-center gap-8 mt-8 text-brand-gray-500">
                <div class="flex items-center gap-2">
                    <i class="fas fa-shield-alt text-green-500"></i>
                    <span class="text-sm font-medium">Secure & Encrypted</span>
                </div>
                <div class="flex items-center gap-2">
                    <i class="fas fa-users text-blue-500"></i>
                    <span class="text-sm font-medium">Trusted by 1000+ Companies</span>
                </div>
                <div class="flex items-center gap-2">
                    <i class="fas fa-clock text-purple-500"></i>
                    <span class="text-sm font-medium">Setup in 2 Minutes</span>
                </div>
            </div>
        </div>
        
        <!-- Global Success/Error Messages -->
        <div id="global-success" class="alert alert-success shadow-lg mb-6 hidden">
            <div>
                <svg class="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span id="global-success-message"></span>
            </div>
        </div>
        <div id="global-error" class="alert alert-error shadow-lg mb-6 hidden">
            <div>
                <svg class="stroke-current flex-shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span id="global-error-message"></span>
            </div>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16">
            <!-- Join Workspace Card -->
            <div class="card bg-white/90 backdrop-blur-md shadow-3xl border-0 card-hover border-2 border-emerald-200/50 hover:border-emerald-300/70 hover:shadow-3xl overflow-hidden group">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-500 to-green-500"></div>
                <div class="card-body p-10 md:p-12">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-24 h-24 bg-gradient-to-br from-emerald-500 to-green-600 rounded-3xl flex items-center justify-center mb-8 shadow-2xl icon-glow group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-users text-4xl text-white"></i>
                        </div>
                        <h2 class="card-title text-3xl md:text-4xl font-bold text-brand-navy-600 mb-4">Join a Workspace</h2>
                        <p class="text-brand-gray-600 mb-10 text-lg leading-relaxed">Already have a workspace code? Enter it below to join your team and start collaborating instantly.</p>
                        
                        <form id="join-workspace-form" class="w-full space-y-8">
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-bold text-brand-navy-600 text-xl">Workspace Code</span>
                                </label>
                                <input type="text" id="workspace-code" name="workspace_code" placeholder="Enter 16-character code" required 
                                       class="input input-bordered w-full text-xl font-mono tracking-wider input-focus bg-white border-3 border-emerald-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 rounded-xl py-4 px-6 shadow-lg" 
                                       maxlength="16" pattern="[A-Z0-9]{16}" style="text-transform: uppercase; height: 64px;">
                                <label class="label">
                                    <span class="label-text-alt text-brand-gray-500 text-base leading-relaxed">Enter the 16-character workspace code provided by your administrator</span>
                                </label>
                            </div>
                            <button type="submit" id="join-btn" class="btn btn-success w-full text-xl font-bold btn-hover bg-gradient-to-r from-emerald-500 to-green-600 border-0 shadow-xl hover:shadow-2xl py-4 rounded-xl" style="height: 64px;">
                                <span id="join-btn-text">
                                    <i class="fas fa-sign-in-alt mr-3 text-xl"></i>Join Workspace
                                </span>
                                <span id="join-btn-loading" class="hidden">
                                    <div class="loading-spinner inline-block mr-3"></div>Joining...
                                </span>
                            </button>
                        </form>
                        <div id="join-error" class="text-error text-center mt-6 hidden text-lg"></div>
                        
                        <!-- Forgot workspace link -->
                        <div class="text-center mt-8">
                            <a href="/forgot-workspace" class="text-emerald-600 hover:text-emerald-700 text-lg font-semibold transition-colors hover:underline">
                                <i class="fas fa-question-circle mr-2"></i>Forgot your workspace code?
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Create Workspace Card -->
            <div class="card bg-white/90 backdrop-blur-md shadow-3xl border-0 card-hover border-2 border-brand-navy-200/50 hover:border-brand-navy-300/70 hover:shadow-3xl overflow-hidden group">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-brand-navy-500 to-brand-navy-600"></div>
                <div class="card-body p-10 md:p-12">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-24 h-24 bg-gradient-to-br from-brand-navy-500 to-brand-navy-600 rounded-3xl flex items-center justify-center mb-8 shadow-2xl icon-glow group-hover:scale-110 transition-transform duration-300">
                            <i class="fas fa-building text-4xl text-white"></i>
                        </div>
                        <h2 class="card-title text-3xl md:text-4xl font-bold text-brand-navy-600 mb-4">Create a Workspace</h2>
                        <p class="text-brand-gray-600 mb-10 text-lg leading-relaxed">Set up a new workspace for your organization and start managing your workforce efficiently.</p>
                        
                        <form id="create-workspace-form" class="w-full space-y-6">
                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-bold text-brand-navy-600 text-lg">Company Name</span>
                                </label>
                                <input type="text" id="company-name" name="company_name" placeholder="Enter your company name" required 
                                       class="input input-bordered w-full text-lg input-focus bg-white border-3 border-brand-navy-200 focus:border-brand-navy-500 focus:ring-4 focus:ring-brand-navy-200 rounded-xl py-3 px-4 shadow-lg"
                                       minlength="2" maxlength="100">
                            </div>

                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-bold text-brand-navy-600 text-lg">Country</span>
                                </label>
                                <select id="country" name="country" required class="select select-bordered w-full text-lg input-focus bg-white border-3 border-brand-navy-200 focus:border-brand-navy-500 focus:ring-4 focus:ring-brand-navy-200 rounded-xl shadow-lg">
                                    <option value="">Select country</option>
                                    <option value="Afghanistan">ğŸ‡¦ğŸ‡« Afghanistan</option>
                                    <option value="Albania">ğŸ‡¦ğŸ‡± Albania</option>
                                    <option value="Algeria">ğŸ‡©ğŸ‡¿ Algeria</option>
                                    <option value="Andorra">ğŸ‡¦ğŸ‡© Andorra</option>
                                    <option value="Angola">ğŸ‡¦ğŸ‡´ Angola</option>
                                    <option value="Antigua and Barbuda">ğŸ‡¦ğŸ‡¬ Antigua and Barbuda</option>
                                    <option value="Argentina">ğŸ‡¦ğŸ‡· Argentina</option>
                                    <option value="Armenia">ğŸ‡¦ğŸ‡² Armenia</option>
                                    <option value="Australia">ğŸ‡¦ğŸ‡º Australia</option>
                                    <option value="Austria">ğŸ‡¦ğŸ‡¹ Austria</option>
                                    <option value="Azerbaijan">ğŸ‡¦ğŸ‡¿ Azerbaijan</option>
                                    <option value="Bahamas">ğŸ‡§ğŸ‡¸ Bahamas</option>
                                    <option value="Bahrain">ğŸ‡§ğŸ‡­ Bahrain</option>
                                    <option value="Bangladesh">ğŸ‡§ğŸ‡© Bangladesh</option>
                                    <option value="Barbados">ğŸ‡§ğŸ‡§ Barbados</option>
                                    <option value="Belarus">ğŸ‡§ğŸ‡¾ Belarus</option>
                                    <option value="Belgium">ğŸ‡§ğŸ‡ª Belgium</option>
                                    <option value="Belize">ğŸ‡§ğŸ‡¿ Belize</option>
                                    <option value="Benin">ğŸ‡§ğŸ‡¯ Benin</option>
                                    <option value="Bhutan">ğŸ‡§ğŸ‡¹ Bhutan</option>
                                    <option value="Bolivia">ğŸ‡§ğŸ‡´ Bolivia</option>
                                    <option value="Bosnia and Herzegovina">ğŸ‡§ğŸ‡¦ Bosnia and Herzegovina</option>
                                    <option value="Botswana">ğŸ‡§ğŸ‡¼ Botswana</option>
                                    <option value="Brazil">ğŸ‡§ğŸ‡· Brazil</option>
                                    <option value="Brunei">ğŸ‡§ğŸ‡³ Brunei</option>
                                    <option value="Bulgaria">ğŸ‡§ğŸ‡¬ Bulgaria</option>
                                    <option value="Burkina Faso">ğŸ‡§ğŸ‡« Burkina Faso</option>
                                    <option value="Burundi">ğŸ‡§ğŸ‡® Burundi</option>
                                    <option value="Cambodia">ğŸ‡°ğŸ‡­ Cambodia</option>
                                    <option value="Cameroon">ğŸ‡¨ğŸ‡² Cameroon</option>
                                    <option value="Canada">ğŸ‡¨ğŸ‡¦ Canada</option>
                                    <option value="Cape Verde">ğŸ‡¨ğŸ‡» Cape Verde</option>
                                    <option value="Central African Republic">ğŸ‡¨ğŸ‡« Central African Republic</option>
                                    <option value="Chad">ğŸ‡¹ğŸ‡© Chad</option>
                                    <option value="Chile">ğŸ‡¨ğŸ‡± Chile</option>
                                    <option value="China">ğŸ‡¨ğŸ‡³ China</option>
                                    <option value="Colombia">ğŸ‡¨ğŸ‡´ Colombia</option>
                                    <option value="Comoros">ğŸ‡°ğŸ‡² Comoros</option>
                                    <option value="Congo">ğŸ‡¨ğŸ‡¬ Congo</option>
                                    <option value="Costa Rica">ğŸ‡¨ğŸ‡· Costa Rica</option>
                                    <option value="Croatia">ğŸ‡­ğŸ‡· Croatia</option>
                                    <option value="Cuba">ğŸ‡¨ğŸ‡º Cuba</option>
                                    <option value="Cyprus">ğŸ‡¨ğŸ‡¾ Cyprus</option>
                                    <option value="Czech Republic">ğŸ‡¨ğŸ‡¿ Czech Republic</option>
                                    <option value="Denmark">ğŸ‡©ğŸ‡° Denmark</option>
                                    <option value="Djibouti">ğŸ‡©ğŸ‡¯ Djibouti</option>
                                    <option value="Dominica">ğŸ‡©ğŸ‡² Dominica</option>
                                    <option value="Dominican Republic">ğŸ‡©ğŸ‡´ Dominican Republic</option>
                                    <option value="DR Congo">ğŸ‡¨ğŸ‡© DR Congo</option>
                                    <option value="Ecuador">ğŸ‡ªğŸ‡¨ Ecuador</option>
                                    <option value="Egypt">ğŸ‡ªğŸ‡¬ Egypt</option>
                                    <option value="El Salvador">ğŸ‡¸ğŸ‡» El Salvador</option>
                                    <option value="Equatorial Guinea">ğŸ‡¬ğŸ‡¶ Equatorial Guinea</option>
                                    <option value="Eritrea">ğŸ‡ªğŸ‡· Eritrea</option>
                                    <option value="Estonia">ğŸ‡ªğŸ‡ª Estonia</option>
                                    <option value="Eswatini">ğŸ‡¸ğŸ‡¿ Eswatini</option>
                                    <option value="Ethiopia">ğŸ‡ªğŸ‡¹ Ethiopia</option>
                                    <option value="Fiji">ğŸ‡«ğŸ‡¯ Fiji</option>
                                    <option value="Finland">ğŸ‡«ğŸ‡® Finland</option>
                                    <option value="France">ğŸ‡«ğŸ‡· France</option>
                                    <option value="Gabon">ğŸ‡¬ğŸ‡¦ Gabon</option>
                                    <option value="Gambia">ğŸ‡¬ğŸ‡² Gambia</option>
                                    <option value="Georgia">ğŸ‡¬ğŸ‡ª Georgia</option>
                                    <option value="Germany">ğŸ‡©ğŸ‡ª Germany</option>
                                    <option value="Ghana">ğŸ‡¬ğŸ‡­ Ghana</option>
                                    <option value="Greece">ğŸ‡¬ğŸ‡· Greece</option>
                                    <option value="Grenada">ğŸ‡¬ğŸ‡© Grenada</option>
                                    <option value="Guatemala">ğŸ‡¬ğŸ‡¹ Guatemala</option>
                                    <option value="Guinea">ğŸ‡¬ğŸ‡³ Guinea</option>
                                    <option value="Guinea-Bissau">ğŸ‡¬ğŸ‡¼ Guinea-Bissau</option>
                                    <option value="Guyana">ğŸ‡¬ğŸ‡¾ Guyana</option>
                                    <option value="Haiti">ğŸ‡­ğŸ‡¹ Haiti</option>
                                    <option value="Honduras">ğŸ‡­ğŸ‡³ Honduras</option>
                                    <option value="Hong Kong">ğŸ‡­ğŸ‡° Hong Kong</option>
                                    <option value="Hungary">ğŸ‡­ğŸ‡º Hungary</option>
                                    <option value="Iceland">ğŸ‡®ğŸ‡¸ Iceland</option>
                                    <option value="India">ğŸ‡®ğŸ‡³ India</option>
                                    <option value="Indonesia">ğŸ‡®ğŸ‡© Indonesia</option>
                                    <option value="Iran">ğŸ‡®ğŸ‡· Iran</option>
                                    <option value="Iraq">ğŸ‡®ğŸ‡¶ Iraq</option>
                                    <option value="Ireland">ğŸ‡®ğŸ‡ª Ireland</option>
                                    <option value="Israel">ğŸ‡®ğŸ‡± Israel</option>
                                    <option value="Italy">ğŸ‡®ğŸ‡¹ Italy</option>
                                    <option value="Ivory Coast">ğŸ‡¨ğŸ‡® Ivory Coast</option>
                                    <option value="Jamaica">ğŸ‡¯ğŸ‡² Jamaica</option>
                                    <option value="Japan">ğŸ‡¯ğŸ‡µ Japan</option>
                                    <option value="Jordan">ğŸ‡¯ğŸ‡´ Jordan</option>
                                    <option value="Kazakhstan">ğŸ‡°ğŸ‡¿ Kazakhstan</option>
                                    <option value="Kenya">ğŸ‡°ğŸ‡ª Kenya</option>
                                    <option value="Kiribati">ğŸ‡°ğŸ‡® Kiribati</option>
                                    <option value="Kosovo">ğŸ‡½ğŸ‡° Kosovo</option>
                                    <option value="Kuwait">ğŸ‡°ğŸ‡¼ Kuwait</option>
                                    <option value="Kyrgyzstan">ğŸ‡°ğŸ‡¬ Kyrgyzstan</option>
                                    <option value="Laos">ğŸ‡±ğŸ‡¦ Laos</option>
                                    <option value="Latvia">ğŸ‡±ğŸ‡» Latvia</option>
                                    <option value="Lebanon">ğŸ‡±ğŸ‡§ Lebanon</option>
                                    <option value="Lesotho">ğŸ‡±ğŸ‡¸ Lesotho</option>
                                    <option value="Liberia">ğŸ‡±ğŸ‡· Liberia</option>
                                    <option value="Libya">ğŸ‡±ğŸ‡¾ Libya</option>
                                    <option value="Liechtenstein">ğŸ‡±ğŸ‡® Liechtenstein</option>
                                    <option value="Lithuania">ğŸ‡±ğŸ‡¹ Lithuania</option>
                                    <option value="Luxembourg">ğŸ‡±ğŸ‡º Luxembourg</option>
                                    <option value="Madagascar">ğŸ‡²ğŸ‡¬ Madagascar</option>
                                    <option value="Malawi">ğŸ‡²ğŸ‡¼ Malawi</option>
                                    <option value="Malaysia">ğŸ‡²ğŸ‡¾ Malaysia</option>
                                    <option value="Maldives">ğŸ‡²ğŸ‡» Maldives</option>
                                    <option value="Mali">ğŸ‡²ğŸ‡± Mali</option>
                                    <option value="Malta">ğŸ‡²ğŸ‡¹ Malta</option>
                                    <option value="Marshall Islands">ğŸ‡²ğŸ‡­ Marshall Islands</option>
                                    <option value="Mauritania">ğŸ‡²ğŸ‡· Mauritania</option>
                                    <option value="Mauritius">ğŸ‡²ğŸ‡º Mauritius</option>
                                    <option value="Mexico">ğŸ‡²ğŸ‡½ Mexico</option>
                                    <option value="Micronesia">ğŸ‡«ğŸ‡² Micronesia</option>
                                    <option value="Moldova">ğŸ‡²ğŸ‡© Moldova</option>
                                    <option value="Monaco">ğŸ‡²ğŸ‡¨ Monaco</option>
                                    <option value="Mongolia">ğŸ‡²ğŸ‡³ Mongolia</option>
                                    <option value="Montenegro">ğŸ‡²ğŸ‡ª Montenegro</option>
                                    <option value="Morocco">ğŸ‡²ğŸ‡¦ Morocco</option>
                                    <option value="Mozambique">ğŸ‡²ğŸ‡¿ Mozambique</option>
                                    <option value="Myanmar">ğŸ‡²ğŸ‡² Myanmar</option>
                                    <option value="Namibia">ğŸ‡³ğŸ‡¦ Namibia</option>
                                    <option value="Nauru">ğŸ‡³ğŸ‡· Nauru</option>
                                    <option value="Nepal">ğŸ‡³ğŸ‡µ Nepal</option>
                                    <option value="Netherlands">ğŸ‡³ğŸ‡± Netherlands</option>
                                    <option value="New Zealand">ğŸ‡³ğŸ‡¿ New Zealand</option>
                                    <option value="Nicaragua">ğŸ‡³ğŸ‡® Nicaragua</option>
                                    <option value="Niger">ğŸ‡³ğŸ‡ª Niger</option>
                                    <option value="Nigeria">ğŸ‡³ğŸ‡¬ Nigeria</option>
                                    <option value="North Korea">ğŸ‡°ğŸ‡µ North Korea</option>
                                    <option value="North Macedonia">ğŸ‡²ğŸ‡° North Macedonia</option>
                                    <option value="Norway">ğŸ‡³ğŸ‡´ Norway</option>
                                    <option value="Oman">ğŸ‡´ğŸ‡² Oman</option>
                                    <option value="Pakistan">ğŸ‡µğŸ‡° Pakistan</option>
                                    <option value="Palau">ğŸ‡µğŸ‡¼ Palau</option>
                                    <option value="Palestine">ğŸ‡µğŸ‡¸ Palestine</option>
                                    <option value="Panama">ğŸ‡µğŸ‡¦ Panama</option>
                                    <option value="Papua New Guinea">ğŸ‡µğŸ‡¬ Papua New Guinea</option>
                                    <option value="Paraguay">ğŸ‡µğŸ‡¾ Paraguay</option>
                                    <option value="Peru">ğŸ‡µğŸ‡ª Peru</option>
                                    <option value="Philippines">ğŸ‡µğŸ‡­ Philippines</option>
                                    <option value="Poland">ğŸ‡µğŸ‡± Poland</option>
                                    <option value="Portugal">ğŸ‡µğŸ‡¹ Portugal</option>
                                    <option value="Qatar">ğŸ‡¶ğŸ‡¦ Qatar</option>
                                    <option value="Romania">ğŸ‡·ğŸ‡´ Romania</option>
                                    <option value="Russia">ğŸ‡·ğŸ‡º Russia</option>
                                    <option value="Rwanda">ğŸ‡·ğŸ‡¼ Rwanda</option>
                                    <option value="Saint Kitts and Nevis">ğŸ‡°ğŸ‡³ Saint Kitts and Nevis</option>
                                    <option value="Saint Lucia">ğŸ‡±ğŸ‡¨ Saint Lucia</option>
                                    <option value="Saint Vincent and the Grenadines">ğŸ‡»ğŸ‡¨ Saint Vincent and the Grenadines</option>
                                    <option value="Samoa">ğŸ‡¼ğŸ‡¸ Samoa</option>
                                    <option value="San Marino">ğŸ‡¸ğŸ‡² San Marino</option>
                                    <option value="Sao Tome and Principe">ğŸ‡¸ğŸ‡¹ Sao Tome and Principe</option>
                                    <option value="Saudi Arabia">ğŸ‡¸ğŸ‡¦ Saudi Arabia</option>
                                    <option value="Senegal">ğŸ‡¸ğŸ‡³ Senegal</option>
                                    <option value="Serbia">ğŸ‡·ğŸ‡¸ Serbia</option>
                                    <option value="Seychelles">ğŸ‡¸ğŸ‡¨ Seychelles</option>
                                    <option value="Sierra Leone">ğŸ‡¸ğŸ‡± Sierra Leone</option>
                                    <option value="Singapore">ğŸ‡¸ğŸ‡¬ Singapore</option>
                                    <option value="Slovakia">ğŸ‡¸ğŸ‡° Slovakia</option>
                                    <option value="Slovenia">ğŸ‡¸ğŸ‡® Slovenia</option>
                                    <option value="Solomon Islands">ğŸ‡¸ğŸ‡§ Solomon Islands</option>
                                    <option value="Somalia">ğŸ‡¸ğŸ‡´ Somalia</option>
                                    <option value="South Africa">ğŸ‡¿ğŸ‡¦ South Africa</option>
                                    <option value="South Korea">ğŸ‡°ğŸ‡· South Korea</option>
                                    <option value="South Sudan">ğŸ‡¸ğŸ‡¸ South Sudan</option>
                                    <option value="Spain">ğŸ‡ªğŸ‡¸ Spain</option>
                                    <option value="Sri Lanka">ğŸ‡±ğŸ‡° Sri Lanka</option>
                                    <option value="Sudan">ğŸ‡¸ğŸ‡© Sudan</option>
                                    <option value="Suriname">ğŸ‡¸ğŸ‡· Suriname</option>
                                    <option value="Sweden">ğŸ‡¸ğŸ‡ª Sweden</option>
                                    <option value="Switzerland">ğŸ‡¨ğŸ‡­ Switzerland</option>
                                    <option value="Syria">ğŸ‡¸ğŸ‡¾ Syria</option>
                                    <option value="Taiwan">ğŸ‡¹ğŸ‡¼ Taiwan</option>
                                    <option value="Tajikistan">ğŸ‡¹ğŸ‡¯ Tajikistan</option>
                                    <option value="Tanzania">ğŸ‡¹ğŸ‡¿ Tanzania</option>
                                    <option value="Thailand">ğŸ‡¹ğŸ‡­ Thailand</option>
                                    <option value="Timor-Leste">ğŸ‡¹ğŸ‡± Timor-Leste</option>
                                    <option value="Togo">ğŸ‡¹ğŸ‡¬ Togo</option>
                                    <option value="Tonga">ğŸ‡¹ğŸ‡´ Tonga</option>
                                    <option value="Trinidad and Tobago">ğŸ‡¹ğŸ‡¹ Trinidad and Tobago</option>
                                    <option value="Tunisia">ğŸ‡¹ğŸ‡³ Tunisia</option>
                                    <option value="Turkey">ğŸ‡¹ğŸ‡· Turkey</option>
                                    <option value="Turkmenistan">ğŸ‡¹ğŸ‡² Turkmenistan</option>
                                    <option value="Tuvalu">ğŸ‡¹ğŸ‡» Tuvalu</option>
                                    <option value="Uganda">ğŸ‡ºğŸ‡¬ Uganda</option>
                                    <option value="Ukraine">ğŸ‡ºğŸ‡¦ Ukraine</option>
                                    <option value="United Arab Emirates">ğŸ‡¦ğŸ‡ª United Arab Emirates</option>
                                    <option value="United Kingdom">ğŸ‡¬ğŸ‡§ United Kingdom</option>
                                    <option value="United States">ğŸ‡ºğŸ‡¸ United States</option>
                                    <option value="Uruguay">ğŸ‡ºğŸ‡¾ Uruguay</option>
                                    <option value="Uzbekistan">ğŸ‡ºğŸ‡¿ Uzbekistan</option>
                                    <option value="Vanuatu">ğŸ‡»ğŸ‡º Vanuatu</option>
                                    <option value="Vatican City">ğŸ‡»ğŸ‡¦ Vatican City</option>
                                    <option value="Venezuela">ğŸ‡»ğŸ‡ª Venezuela</option>
                                    <option value="Vietnam">ğŸ‡»ğŸ‡³ Vietnam</option>
                                    <option value="Yemen">ğŸ‡¾ğŸ‡ª Yemen</option>
                                    <option value="Zambia">ğŸ‡¿ğŸ‡² Zambia</option>
                                    <option value="Zimbabwe">ğŸ‡¿ğŸ‡¼ Zimbabwe</option>
                                </select>
                            </div>

                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-bold text-brand-navy-600 text-lg">Industry Type</span>
                                </label>
                                <select id="industry-type" name="industry_type" required class="select select-bordered w-full text-lg input-focus bg-white border-3 border-brand-navy-200 focus:border-brand-navy-500 focus:ring-4 focus:ring-brand-navy-200 rounded-xl shadow-lg">
                                    <option value="">Select industry</option>
                                    <option value="Construction">ğŸ—ï¸ Construction</option>
                                    <option value="Manufacturing">ğŸ­ Manufacturing</option>
                                    <option value="Agriculture">ğŸŒ¾ Agriculture</option>
                                    <option value="Hospitality">ğŸ¨ Hospitality & Tourism</option>
                                    <option value="Retail">ğŸ›’ Retail & Sales</option>
                                    <option value="Healthcare">ğŸ¥ Healthcare</option>
                                    <option value="Education">ğŸ“ Education</option>
                                    <option value="Transportation">ğŸš› Transportation & Logistics</option>
                                    <option value="Food Service">ğŸ½ï¸ Food Service</option>
                                    <option value="Cleaning">ğŸ§¹ Cleaning & Maintenance</option>
                                    <option value="Security">ğŸ”’ Security Services</option>
                                    <option value="Event Management">ğŸ‰ Event Management</option>
                                    <option value="Technology">ğŸ’» Technology</option>
                                    <option value="Finance">ğŸ’° Finance & Accounting</option>
                                    <option value="Real Estate">ï¿½ Real Estate</option>
                                    <option value="Entertainment">ğŸ¬ Entertainment & Media</option>
                                    <option value="Non-Profit">ğŸ¤ Non-Profit</option>
                                    <option value="Government">ğŸ›ï¸ Government</option>
                                    <option value="Other">ğŸ¢ Other</option>
                                </select>
                            </div>

                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-bold text-brand-navy-600 text-lg">Company Phone</span>
                                </label>
                                <input type="tel" id="company-phone" name="company_phone" placeholder="Enter company phone" required 
                                       class="input input-bordered w-full text-lg input-focus bg-white border-3 border-brand-navy-200 focus:border-brand-navy-500 focus:ring-4 focus:ring-brand-navy-200 rounded-xl py-3 px-4 shadow-lg">
                            </div>

                            <div class="form-control">
                                <label class="label">
                                    <span class="label-text font-bold text-brand-navy-600 text-lg">Company Email</span>
                                </label>
                                <input type="email" id="company-email" name="company_email" placeholder="Enter company email" required 
                                       class="input input-bordered w-full text-lg input-focus bg-white border-3 border-brand-navy-200 focus:border-brand-navy-500 focus:ring-4 focus:ring-brand-navy-200 rounded-xl py-3 px-4 shadow-lg">
                            </div>

                            <button type="submit" id="create-btn" class="btn btn-primary w-full text-xl font-bold btn-hover bg-gradient-to-r from-brand-navy-500 to-brand-navy-600 border-0 shadow-xl hover:shadow-2xl py-4 rounded-xl mt-8" style="height: 64px;">
                                <span id="create-btn-text">
                                    <i class="fas fa-plus mr-3 text-xl"></i>Create Workspace
                                </span>
                                <span id="create-btn-loading" class="hidden">
                                    <div class="loading-spinner inline-block mr-3"></div>Creating...
                                </span>
                            </button>
                        </form>
                        <div id="create-error" class="text-error text-center mt-6 hidden text-lg"></div>
                        <div id="create-warning" class="text-warning text-center mt-6 hidden text-lg"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Enhanced Help Section -->
        <div class="mt-12">
            <div class="card bg-gradient-to-br from-white/95 to-brand-navy-50/70 backdrop-blur-md shadow-xl border border-brand-navy-200/40 rounded-2xl overflow-hidden max-w-5xl mx-auto">
                <div class="card-body p-8 md:p-10">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <div class="inline-flex items-center justify-center gap-3 mb-4">
                            <div class="w-14 h-14 bg-gradient-to-br from-brand-gold-500 to-brand-gold-600 rounded-xl flex items-center justify-center shadow-lg">
                                <i class="fas fa-life-ring text-white text-xl"></i>
                            </div>
                            <h3 class="text-2xl md:text-3xl font-bold text-brand-navy-600">Need Help Getting Started?</h3>
                        </div>
                        <p class="text-brand-gray-600 text-base md:text-lg leading-relaxed max-w-2xl mx-auto">
                            Our support team is here to help you get started with your workforce management journey.
                        </p>
                    </div>
                    
                    <!-- Links Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
                        <a href="mailto:support@embeeaccounting.com" class="group flex items-center justify-center gap-3 p-4 bg-white hover:bg-blue-50 border-2 border-blue-200 hover:border-blue-400 rounded-xl transition-all duration-300 hover:shadow-md">
                            <i class="fas fa-envelope text-blue-600 text-xl group-hover:scale-110 transition-transform"></i>
                            <div class="text-left">
                                <div class="text-blue-700 font-semibold text-base">Email Support</div>
                                <div class="text-blue-500 text-xs">support@embeeaccounting.com</div>
                            </div>
                        </a>
                        
                        <a href="/terms-of-use" class="group flex items-center justify-center gap-3 p-4 bg-white hover:bg-green-50 border-2 border-green-200 hover:border-green-400 rounded-xl transition-all duration-300 hover:shadow-md">
                            <i class="fas fa-file-contract text-green-600 text-xl group-hover:scale-110 transition-transform"></i>
                            <div class="text-left">
                                <div class="text-green-700 font-semibold text-base">Terms of Use</div>
                                <div class="text-green-500 text-xs">Review our terms</div>
                            </div>
                        </a>
                        
                        <a href="/privacy-policy" class="group flex items-center justify-center gap-3 p-4 bg-white hover:bg-purple-50 border-2 border-purple-200 hover:border-purple-400 rounded-xl transition-all duration-300 hover:shadow-md">
                            <i class="fas fa-shield-alt text-purple-600 text-xl group-hover:scale-110 transition-transform"></i>
                            <div class="text-left">
                                <div class="text-purple-700 font-semibold text-base">Privacy Policy</div>
                                <div class="text-purple-500 text-xs">Data protection info</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInWithEmailLink, isSignInWithEmailLink, sendSignInLinkToEmail } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDGpqXJZWQWl3lMYX-M_wOrSs2K6v7FNr0",
            authDomain: "casual-worker-manager.firebaseapp.com",
            projectId: "casual-worker-manager",
            storageBucket: "casual-worker-manager.firebasestorage.app",
            messagingSenderId: "671505306326",
            appId: "1:671505306326:web:0e64ba0b4b1e69aea79ed5"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        
        // Store globally for use in other functions
        window.firebaseAuth = auth;
        window.signInWithEmailLink = signInWithEmailLink;
        window.isSignInWithEmailLink = isSignInWithEmailLink;
        window.sendSignInLinkToEmail = sendSignInLinkToEmail;
    </script>

    <script>
        // Utility functions
        function showLoading(buttonId, textId, loadingId) {
            document.getElementById(textId).classList.add('hidden');
            document.getElementById(loadingId).classList.remove('hidden');
            document.getElementById(buttonId).disabled = true;
        }

        function hideLoading(buttonId, textId, loadingId) {
            document.getElementById(textId).classList.remove('hidden');
            document.getElementById(loadingId).classList.add('hidden');
            document.getElementById(buttonId).disabled = false;
        }

        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.classList.remove('hidden');
            setTimeout(() => {
                errorElement.classList.add('hidden');
            }, 5000);
        }

        function showGlobalMessage(type, message) {
            const element = document.getElementById(`global-${type}`);
            const messageElement = document.getElementById(`global-${type}-message`);
            messageElement.textContent = message;
            element.classList.remove('hidden');
            setTimeout(() => {
                element.classList.add('hidden');
            }, 5000);
        }

        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validatePhone(phone) {
            const cleanPhone = phone.replace(/[\s\-\(\)]/g, '');
            return /^[\+]?[1-9][\d]{0,15}$/.test(cleanPhone);
        }

        // Auto-uppercase workspace code input
        document.getElementById('workspace-code').addEventListener('input', function(e) {
            e.target.value = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
        });

        // Join workspace form submission
        document.getElementById('join-workspace-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const workspaceCode = document.getElementById('workspace-code').value.trim();
            
            if (!workspaceCode) {
                showError('join-error', 'Please enter a workspace code');
                return;
            }
            
            if (workspaceCode.length !== 16) {
                showError('join-error', 'Workspace code must be exactly 16 characters');
                return;
            }

            showLoading('join-btn', 'join-btn-text', 'join-btn-loading');

            try {
                const response = await fetch('/api/workspace/join', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        workspace_code: workspaceCode
                    })
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    showGlobalMessage('success', `Found workspace "${data.workspace.name}"! Proceeding to sign in...`);
                    
                    // Store workspace data for later use
                    localStorage.setItem('pendingWorkspace', JSON.stringify(data.workspace));
                    
                    // Redirect to sign-in
                    setTimeout(() => {
                        window.location.href = '/signin';
                    }, 1500);
                } else {
                    throw new Error(data.error || 'Failed to join workspace');
                }
            } catch (error) {
                console.error('Error joining workspace:', error);
                showError('join-error', error.message || 'Failed to join workspace. Please try again.');
            } finally {
                hideLoading('join-btn', 'join-btn-text', 'join-btn-loading');
            }
        });

        // Create workspace form submission
        document.getElementById('create-workspace-form').addEventListener('submit', async function(e) {
            e.preventDefault();

            // Collect form data
            const formData = {
                company_name: document.getElementById('company-name').value.trim(),
                country: document.getElementById('country').value,
                industry_type: document.getElementById('industry-type').value,
                company_phone: document.getElementById('company-phone').value.trim(),
                company_email: document.getElementById('company-email').value.trim()
            };

            // Validation
            if (!formData.company_name || formData.company_name.length < 2) {
                showError('create-error', 'Company name must be at least 2 characters');
                return;
            }

            if (!formData.country) {
                showError('create-error', 'Please select a country');
                return;
            }

            if (!formData.industry_type) {
                showError('create-error', 'Please select an industry type');
                return;
            }

            if (!formData.company_phone) {
                showError('create-error', 'Please enter a company phone number');
                return;
            }

            if (!validatePhone(formData.company_phone)) {
                showError('create-error', 'Please enter a valid phone number');
                return;
            }

            if (!formData.company_email) {
                showError('create-error', 'Please enter a company email address');
                return;
            }

            if (!validateEmail(formData.company_email)) {
                showError('create-error', 'Please enter a valid email address');
                return;
            }

            showLoading('create-btn', 'create-btn-text', 'create-btn-loading');

            try {
                const response = await fetch('/api/workspace/create', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    if (data.warning) {
                        document.getElementById('create-warning').textContent = data.warning;
                        document.getElementById('create-warning').classList.remove('hidden');
                    }
                    
                    showGlobalMessage('success', `Workspace "${data.workspace.name}" prepared! Proceeding to sign in...`);
                    
                    // Store workspace data for later use
                    localStorage.setItem('pendingWorkspace', JSON.stringify(data.workspace));
                    
                    // Redirect to sign-in
                    setTimeout(() => {
                        window.location.href = '/signin';
                    }, 1500);
                } else {
                    throw new Error(data.error || 'Failed to create workspace');
                }
            } catch (error) {
                console.error('Error creating workspace:', error);
                showError('create-error', error.message || 'Failed to create workspace. Please try again.');
            } finally {
                hideLoading('create-btn', 'create-btn-text', 'create-btn-loading');
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Clear any stored workspace data on page load
            localStorage.removeItem('pendingWorkspace');
            
            // Focus on first input
            document.getElementById('workspace-code').focus();
        });
    </script>
</body>
</html>
