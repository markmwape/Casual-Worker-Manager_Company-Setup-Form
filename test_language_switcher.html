<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Switcher Test</title>
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.24/dist/full.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Inter', sans-serif;
        }
        .test-container {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 600px;
            width: 100%;
            margin: 2rem;
        }
        .test-section {
            margin-bottom: 2rem;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }
        .test-section h3 {
            margin-bottom: 1rem;
            color: #374151;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="text-3xl font-bold text-center mb-8 text-gray-800">Language Switcher Test</h1>

        <div class="test-section">
            <h3>üåê Default Context (Landing Page Style)</h3>
            <div class="landing-language-switcher">
                {% include 'components/language_switcher.html' %}
            </div>
        </div>

        <div class="test-section">
            <h3>üì± Mobile Menu Context</h3>
            <div class="mobile-menu-language-switcher">
                {% include 'components/language_switcher.html' %}
            </div>
        </div>

        <div class="test-section">
            <h3>üñ•Ô∏è Sidebar Context</h3>
            <div class="sidebar-language-switcher">
                {% include 'components/language_switcher.html' %}
            </div>
        </div>

        <div class="test-section">
            <h3>üìã Test Instructions</h3>
            <ul class="list-disc list-inside space-y-2 text-sm text-gray-600">
                <li>Click each language switcher button to open the dropdown</li>
                <li>Try selecting different languages</li>
                <li>Check that loading states work (spinner appears)</li>
                <li>Verify success/error feedback animations</li>
                <li>Test keyboard navigation (Tab, Enter, Arrow keys, Escape)</li>
                <li>Check mobile responsiveness by resizing the window</li>
                <li>Verify accessibility features (ARIA labels, focus management)</li>
            </ul>
        </div>

        <div class="text-center mt-8">
            <button onclick="window.location.reload()" class="btn btn-primary">
                üîÑ Reload Test Page
            </button>
        </div>
    </div>

    <!-- Mock API responses for testing -->
    <script>
        // Mock the API endpoints for testing
        window.originalFetch = window.fetch;
        window.fetch = function(url, options) {
            if (url === '/api/languages') {
                return Promise.resolve({
                    ok: true,
                    status: 200,
                    json: () => Promise.resolve({
                        languages: {
                            'en': 'English',
                            'fr': 'Fran√ßais',
                            'sw': 'Swahili',
                            'pt': 'Portugu√™s',
                            'es': 'Espa√±ol',
                            'tr': 'T√ºrk√ße',
                            'hi': '‡§π‡§ø‡§Ç‡§¶‡•Ä',
                            'zh': '‰∏≠Êñá',
                            'ar': 'ÿßŸÑÿπÿ±ÿ®Ÿäÿ©',
                            'vi': 'Ti·∫øng Vi·ªát'
                        },
                        current_language: 'en'
                    })
                });
            } else if (url === '/api/change-language') {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({
                            ok: true,
                            status: 200,
                            json: () => Promise.resolve({ success: true })
                        });
                    }, 1000); // Simulate network delay
                });
            }
            return window.originalFetch(url, options);
        };

        console.log('Language Switcher Test Page Loaded');
        console.log('Mock API endpoints configured for testing');
    </script>
</body>
</html>
